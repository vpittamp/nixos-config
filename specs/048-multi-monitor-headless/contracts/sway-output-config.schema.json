{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Sway Output Configuration Schema",
  "description": "Schema for Sway headless output configuration (Feature 048)",
  "type": "object",
  "properties": {
    "outputs": {
      "type": "object",
      "description": "Map of output names to configuration",
      "patternProperties": {
        "^HEADLESS-[1-3]$": {
          "type": "object",
          "properties": {
            "resolution": {
              "type": "string",
              "pattern": "^[0-9]+x[0-9]+@[0-9]+Hz$",
              "description": "Display resolution with refresh rate (e.g., '1920x1080@60Hz')",
              "examples": ["1920x1080@60Hz", "2560x1440@60Hz"]
            },
            "position": {
              "type": "string",
              "pattern": "^[0-9]+,[0-9]+$",
              "description": "X,Y coordinates in logical layout (e.g., '0,0', '1920,0')",
              "examples": ["0,0", "1920,0", "3840,0"]
            },
            "scale": {
              "type": "string",
              "pattern": "^[0-9]+(\\.[0-9]+)?$",
              "description": "Display scaling factor (1.0 for no scaling)",
              "examples": ["1.0", "1.5", "2.0"]
            }
          },
          "required": ["resolution", "position", "scale"],
          "additionalProperties": false
        }
      },
      "minProperties": 3,
      "maxProperties": 3,
      "additionalProperties": false
    },
    "workspaceAssignments": {
      "type": "array",
      "description": "Workspace-to-output assignments",
      "items": {
        "type": "object",
        "properties": {
          "workspace": {
            "type": "string",
            "pattern": "^[1-9]$",
            "description": "Workspace number (1-9)"
          },
          "output": {
            "type": "string",
            "enum": ["HEADLESS-1", "HEADLESS-2", "HEADLESS-3"],
            "description": "Target output name"
          }
        },
        "required": ["workspace", "output"],
        "additionalProperties": false
      },
      "minItems": 9,
      "maxItems": 9
    }
  },
  "required": ["outputs", "workspaceAssignments"],
  "additionalProperties": false,

  "examples": [
    {
      "outputs": {
        "HEADLESS-1": {
          "resolution": "1920x1080@60Hz",
          "position": "0,0",
          "scale": "1.0"
        },
        "HEADLESS-2": {
          "resolution": "1920x1080@60Hz",
          "position": "1920,0",
          "scale": "1.0"
        },
        "HEADLESS-3": {
          "resolution": "1920x1080@60Hz",
          "position": "3840,0",
          "scale": "1.0"
        }
      },
      "workspaceAssignments": [
        {"workspace": "1", "output": "HEADLESS-1"},
        {"workspace": "2", "output": "HEADLESS-1"},
        {"workspace": "3", "output": "HEADLESS-2"},
        {"workspace": "4", "output": "HEADLESS-2"},
        {"workspace": "5", "output": "HEADLESS-2"},
        {"workspace": "6", "output": "HEADLESS-3"},
        {"workspace": "7", "output": "HEADLESS-3"},
        {"workspace": "8", "output": "HEADLESS-3"},
        {"workspace": "9", "output": "HEADLESS-3"}
      ]
    }
  ],

  "definitions": {
    "outputName": {
      "type": "string",
      "pattern": "^HEADLESS-[1-3]$"
    }
  }
}
