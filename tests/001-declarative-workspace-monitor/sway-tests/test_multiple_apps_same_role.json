{
  "name": "Multiple applications with same monitor role (primary)",
  "description": "Test that terminal (WS 1) and VS Code (WS 2) both with preferred_monitor_role='primary' appear on HEADLESS-1",
  "timeout": 8000,
  "actions": [
    {
      "type": "send_ipc_sync",
      "params": {
        "ipc_command": "[app_id=\"ghostty\"] kill"
      }
    },
    {
      "type": "send_ipc_sync",
      "params": {
        "ipc_command": "[app_id=\"code\"] kill"
      }
    },
    {
      "type": "launch_app_sync",
      "params": {
        "app_name": "terminal"
      }
    },
    {
      "type": "launch_app_sync",
      "params": {
        "app_name": "code"
      }
    }
  ],
  "expectedState": {
    "focusedWorkspace": 2,
    "workspaces": [
      {
        "num": 1,
        "output": "HEADLESS-1",
        "windows": [
          {
            "app_id": "ghostty"
          }
        ]
      },
      {
        "num": 2,
        "output": "HEADLESS-1",
        "windows": [
          {
            "app_id": "code",
            "focused": true
          }
        ]
      }
    ]
  }
}
