[pytest]
# pytest configuration for 057-workspace-bar-icons test suite
# Python 3.11+ with async/await patterns

# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test paths
testpaths =
    unit
    integration

# Asyncio support (for i3ipc.aio integration tests)
asyncio_mode = auto

# Output options
addopts =
    -v
    --strict-markers
    --tb=short
    --color=yes
    # Coverage options (if pytest-cov is installed)
    # --cov=home-modules/tools/sway-workspace-panel
    # --cov-report=term-missing
    # --cov-report=html

# Markers for organizing tests
markers =
    unit: Unit tests for isolated function/class testing
    integration: Integration tests with sway-test framework
    terminal_apps: Tests for terminal application icon detection
    pwa: Tests for PWA icon resolution
    walker_parity: Tests for Walker/workspace bar icon consistency
    slow: Tests that take >1 second to complete

# Logging
log_cli = false
log_cli_level = INFO
log_file = pytest.log
log_file_level = DEBUG

# Warnings
filterwarnings =
    error
    # Ignore specific warnings if needed
    # ignore::DeprecationWarning

# Minimum Python version
minversion = 3.11
